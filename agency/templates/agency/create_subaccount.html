{% extends 'new/base.html' %}
{% load static %}

{% block header %}
   
{% endblock header %}

{% block css %}
<!-- Add any necessary CSS -->
{% endblock css %}

{% block body %}
<div class="page-body">
    {% if messages %}
    <div class="alert alert-warning" role="alert">
        {% for message in messages %}
            {{ message }}
        {% endfor %}
    </div>
{% endif %}
    <div class="container-fluid">
        <div class="page-title">
            <div class="row">
                <div class="col-6">
                    <h4>Create a New Subaccount for {{ agency.name }}</h4>
                </div>
                <div class="col-6">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="#">                                       
                            <svg class="stroke-icon">
                                <use href="{% static 'manish/svg/icon-sprite.svg' %}#stroke-home"></use>
                            </svg></a></li>
                        <li class="breadcrumb-item">Agents</li>
                        <li class="breadcrumb-item active">Create Subaccount</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <!-- Container-fluid starts-->
    <div class="container-fluid">
        <div class="row">
            <div class="col-xl-6">
                <div class="card height-equal">
                    <div class="card-header">
                        <h4>Account Info</h4>
                    </div>
                    <div class="card-body custom-input">
                        <form class="row g-3" method="POST">
                            {% csrf_token %}
                            <div class="col-12">
                                <label class="form-label" for="id_name">Username:</label>
                                {{ form.username }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_name">First Name:</label>
                                {{ form.first_name }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_name">Last Name:</label>
                                {{ form.last_name }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_name">Password</label>
                                {{ form.password1 }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_name">Confirm Password</label>
                                {{ form.password2 }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_email">Email:</label>
                                {{ form.email }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_address">Address:</label>
                                {{ form.address }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_city">City:</label>
                                {{ form.city }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_phone_number">Phone Number:</label>
                                {{ form.phone_number }}
                            </div>
                            <div class="col-12">
                                <label class="form-label" for="id_timezone">Timezone:</label>
                                {{ form.timezone }}
                            </div>

                            <div class="col-12">
                                <button class="btn btn-primary" type="submit">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock body %}

{% block js %}
<!-- Add any necessary JS -->
<script>
    // Auto-close messages after 5 seconds with fade-out animation and space removal
    setTimeout(function () {
        let alert = document.getElementById('messages');
        if (alert) {
            alert.style.transition = 'opacity 0.5s ease, height 0.5s ease'; // Smooth fade-out and height collapse
            alert.style.opacity = '0'; // Start fade-out animation
            alert.style.height = '0'; // Collapse height to remove space
            alert.style.overflow = 'hidden'; // Prevent content overflow
            setTimeout(() => alert.remove(), 500); // Remove element after animation
        }
    }, 5000); // Adjust the timeout as needed
  </script>
{% endblock js %}
