

{% load static %}


<div class="fade tab-pane" id="pills-call-summary" role="tabpanel" aria-labelledby="pills-call-summary-tab">

    <!-- Call Summary AI Analysis -->
    <div class="card mb-4">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h4 class="fw-bold">
                <i class="fa-solid fa-microphone me-2"></i> Call Summary AI Analysis
            </h4>

            {% if conversation_obj.ai_summary %}
                <span class="badge  bg-light">Analyzed</span>
            {% else %}
                <button class="btn btn-primary" onclick="analyzeCall()">Analyze Call</button>
            {% endif %}
        </div>
        <div class="card-body">
            <div id="callSummary" class="summary-box mt-3 {% if not conversation_obj.ai_summary %}d-none{% endif %}">
                <h6><i class="fas fa-chart-line"></i> AI Analysis:</h6>
                <p id="aiSummary">
                    {% if conversation_obj.ai_summary %}
                        {{ conversation_obj.ai_summary }}
                    {% else %}
                        Processing...
                    {% endif %}
                </p>
            </div>
        </div>
    </div>
</div>

<style>
    .summary-box {
        background: #f1f3f5;
        padding: 15px;
        border-left: 5px solid #007bff;
        border-radius: 5px;
        font-size: 14px;
        margin-top: 15px;
    }
</style>

<!-- JavaScript Logic -->
<!-- <script>
    function analyzeCall() {
        // Show summary section
        document.getElementById("callSummary").classList.remove("d-none");

        // Simulated AI-generated analysis (Mock Data)
        setTimeout(() => {
            document.getElementById("aiSummary").innerText = 
                "The conversation focused on addressing a billing dispute. " +
                "The customer expressed concern over unexpected charges, and the agent provided a detailed breakdown of the bill. " +
                "After some clarification, the issue was resolved, and the customer seemed satisfied. " +
                "However, a follow-up email was suggested to ensure clarity.";
        }, 2000); // Simulate AI processing delay
    }
</script> -->

<!-- Ensure FontAwesome is Included -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
