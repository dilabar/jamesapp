{% extends 'cbase.html' %}
{% load static %}
{% block header %}
{% endblock header %}
{% block css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<style>
   .cursor-pointer {
   cursor: pointer;
   }
   .avatar {
   width: 32px;
   height: 32px;
   border-radius: 50%;
   }
</style>
{% endblock css %}
{% block body %}
<div class="content-page rtl-page">
   <div class="container-fluid py-3">
      <div class="row">
         <!-- Main Content -->
         <div class="col-md-8">
            <div class="card">
            <div class="card-body">
                  <!-- Header -->
                   
                  <div>
                    <!-- Profile Section -->
                    <div class="bg-white p-3 mb-8 rounded">
                        <div class="d-flex  justify-content-between">
                            <!-- Left side: Name -->
                            <h5 class="mb-0 bi">Jessica <i class="bi bi-pencil-fill"></i></h5>
                            <!-- Right side: Image and Profile Name -->
                            <div class="d-flex align-items-center">
                                <img src="https://placehold.co/40x40/EEE/31343C" alt="Avatar" class="avatar me-2">
                                <span>Jessica</span>
                            </div>
                        </div>
                    </div>
                </div>  
                

                  
                  <!-- Form -->
                  <form>
                     <!-- Goal -->
                     <div class="mb-3">
                        <label class="form-label">
                        Goal
                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Enter your conversation goal"></i>
                        </label>
                        <input type="text" class="form-control" value="lead">
                     </div>
                     <!-- Who Speaks First -->
                     <div class="mb-3">
                        <label class="form-label">
                        Who Speaks First
                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Select who initiates the conversation"></i>
                        </label>
                        <select class="form-select">
                           <option selected>Assistant Initiate : Assistant begins with your Call Opening Message.</option>
                           <option>Customer Initiate</option>
                        </select>
                     </div>
                     <!-- Welcome Message -->
                     <div class="mb-3">
                        <label class="form-label">
                        Welcome Message
                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Customize your welcome message"></i>
                        </label>
                        <input type="text" class="form-control" value="Hi {first_name}, How are you doing today?">
                     </div>
                     <!-- Script -->
                     <div class="mb-3">
                        <label class="form-label">
                        Script
                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Enter your conversation script"></i>
                        </label>
                        <div class="d-flex justify-content-end mb-2">
                           <button type="button" class="btn btn-outline-secondary me-2">
                           <i class="bi bi-question-circle"></i>
                           </button>
                           <button type="button" class="btn btn-primary me-2">Apply Sample Script</button>
                           <button type="button" class="btn btn-secondary">Save</button>
                        </div>
                        <textarea class="form-control" rows="10">
[Open with a Warm Welcome]

"Hello first_name thank you for reaching out! I'm here to assist you.
Could you share a bit about what you're looking for or how I might help?"

Goal: Start with a friendly, open-ended question to understand the customer's needs and set a positive tone.

2. Explore Customer Needs

"Could you tell me a bit more about what's most important to you in this area?
For example, some customers look for [benefits or features relevant to your service, such as reliability, affordability, customization, etc.]."</textarea>
                     </div>
                  </form>
               </div>
            </div>
         </div>
         <!-- Sidebar -->
         <div class="col-md-4">
            <!-- Test Button section remains the same -->
            <div class="d-flex align-items-center mb-3">
                
                <button class="btn btn-primary">Test</button>
            </div>

            <!-- Updated Settings Accordion -->
            <div class="accordion" id="settingsAccordion">
                <!-- General Settings -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#generalSettings">
                            General settings
                        </button>
                    </h2>
                    <div id="generalSettings" class="accordion-collapse collapse show" data-bs-parent="#settingsAccordion">
                        <div class="accordion-body">
                            <div class="mb-3">
                                <label class="form-label">
                                    Company Name
                                    <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Enter your company name"></i>
                                    <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" value="Tesla">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Speech Settings -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#speechSettings">
                            Speech settings
                        </button>
                    </h2>
                    <div id="speechSettings" class="accordion-collapse collapse" data-bs-parent="#settingsAccordion">
                        <div class="accordion-body">
                            <div class="mb-3">
                                <label class="form-label d-flex justify-content-between">
                                    <div>
                                        Speech Rate
                                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Adjust the speech rate"></i>
                                    </div>
                                    <span class="form-range-value">(15)</span>
                                </label>
                                <input type="range" class="form-range" min="1" max="30" value="15">
                            </div>

                            <div class="mb-3">
                                <label class="form-label">
                                    Assistant's Response Behavior
                                    <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Select the response behavior"></i>
                                </label>
                                <select class="form-select">
                                    <option selected>Rapid Response</option>
                                    <option>Normal Response</option>
                                    <option>Delayed Response</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="allowInterruption">
                                    <label class="form-check-label" for="allowInterruption">
                                        Allow Assistant Interruption
                                    </label>
                                </div>
                                <small class="text-muted d-block mt-1">
                                    If turned on, we are allowing callers to interrupt the assistant while the assistant is speaking. Once interrupted the assistant will stop speaking and listen to what the caller is saying.
                                </small>
                            </div>

                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="reEngage" checked>
                                    <label class="form-check-label" for="reEngage">
                                        Re-engage
                                    </label>
                                </div>
                                <small class="text-muted d-block mt-1">
                                    Enable this setting to allow the assistant to re-engage with the user if the user has not responded.
                                </small>
                            </div>

                            <div class="mb-3">
                                <label class="form-label d-flex justify-content-between">
                                    <div>
                                        Re-engage Count
                                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Set re-engage count"></i>
                                    </div>
                                    <span class="form-range-value">(2)</span>
                                </label>
                                <input type="range" class="form-range" min="1" max="5" value="2">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Call Settings -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#callSettings">
                            Call settings
                        </button>
                    </h2>
                    <div id="callSettings" class="accordion-collapse collapse" data-bs-parent="#settingsAccordion">
                        <div class="accordion-body">
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="voicemail">
                                    <label class="form-check-label" for="voicemail">
                                        Voicemail
                                    </label>
                                </div>
                                <small class="text-muted d-block mt-1">
                                    Detects answering machines or voicemails and disconnects the call without deducting minutes from your quota.
                                </small>
                            </div>

                            <div class="mb-3">
                                <label class="form-label d-flex justify-content-between">
                                    <div>
                                        Max Call Duration
                                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Set maximum call duration"></i>
                                    </div>
                                    <span class="form-range-value">(13 minutes)</span>
                                </label>
                                <input type="range" class="form-range" min="1" max="30" value="13">
                            </div>

                            <div class="mb-3">
                                <label class="form-label d-flex justify-content-between">
                                    <div>
                                        No Response Time Limit
                                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Set no response time limit"></i>
                                    </div>
                                    <span class="form-range-value">(22 seconds)</span>
                                </label>
                                <input type="range" class="form-range" min="5" max="60" value="22">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Functions -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#functions">
                            Functions
                        </button>
                    </h2>
                    <div id="functions" class="accordion-collapse collapse" data-bs-parent="#settingsAccordion">
                        <div class="accordion-body">
                            <p class="text-muted mb-3">
                                Enable your agent with capabilities such as calendar bookings, call termination...
                            </p>
                            <p class="text-muted mb-3">
                                No actions added. Click "Add" to create a new action.
                            </p>

                            <div class="mb-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div>
                                        Transfer to Real Agent
                                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Transfer call to human agent"></i>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="transferToHuman">
                                    </div>
                                </div>
                                <button class="btn btn-outline-primary btn-sm">
                                    <i class="bi bi-plus"></i> Add
                                </button>
                            </div>

                            <div class="mb-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div>
                                        Webhook
                                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Configure webhook"></i>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="webhook">
                                    </div>
                                </div>
                                <button class="btn btn-outline-primary btn-sm">
                                    <i class="bi bi-plus"></i> Add
                                </button>
                            </div>

                            <div class="mb-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div>
                                        Book A Meeting
                                        <span class="badge bg-primary beta-badge">Beta</span>
                                        <i class="bi bi-info-circle" data-bs-toggle="tooltip" title="Schedule meetings"></i>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="bookMeeting">
                                    </div>
                                </div>
                                <button class="btn btn-outline-primary btn-sm">
                                    <i class="bi bi-plus"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
{% endblock body %}
{% block js %}
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
<script>
   // Initialize tooltips
   const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
   const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>
{% endblock js %}